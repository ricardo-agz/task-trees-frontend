{"ast":null,"code":"const json_fragment = require('./sbert_finetuned_all_0.8_0.3_10.0_links_k=10.json');\n\nconst parsed = JSON.parse(json_fragment);\n\nconst capitalize = s => {\n  if (typeof s !== 'string') return '';\n  s = s.toLowerCase();\n  return s.charAt(0).toUpperCase() + s.slice(1) + \".\";\n};\n\nlet graph = [];\n\nfor (const [index, [key, value]] of Object.entries(Object.entries(parsed))) {\n  parsed[key] = {\n    goal: key,\n    ...parsed[key],\n    index: index\n  };\n  graph[index] = parsed[key];\n}\n\nfor (let i = 0; i < graph.length; i++) {\n  graph[i] = { ...graph[i],\n    children: []\n  };\n\n  for (let j = 0; j < graph[i].retrieved_goals.length; j++) {\n    let child = graph[i].retrieved_goals[j];\n    child = capitalize(child);\n    let from_parsed = parsed[child];\n\n    if (typeof from_parsed !== \"undefined\") {\n      graph[i].children.push(parsed[child].index);\n    } else {\n      graph[i].children.push(child);\n    }\n  }\n} // for (let i = 0; i < graph.length; i++) {\n//   console.log(graph[i])\n// }\n\n\nexport const graphData = graph;\nexport const parsedData = parsed;","map":{"version":3,"sources":["C:/Users/Ricky/Desktop/School/Research/NLP/WikiHow/visualizer/src/application/DataFragment.js"],"names":["json_fragment","require","parsed","JSON","parse","capitalize","s","toLowerCase","charAt","toUpperCase","slice","graph","index","key","value","Object","entries","goal","i","length","children","j","retrieved_goals","child","from_parsed","push","graphData","parsedData"],"mappings":"AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,oDAAD,CAA7B;;AAEA,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWJ,aAAX,CAAf;;AAEA,MAAMK,UAAU,GAAIC,CAAD,IAAO;AACxB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAO,EAAP;AAC3BA,EAAAA,CAAC,GAAIA,CAAC,CAACC,WAAF,EAAL;AACA,SAAOD,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BH,CAAC,CAACI,KAAF,CAAQ,CAAR,CAA5B,GAAyC,GAAhD;AACD,CAJD;;AAMA,IAAIC,KAAK,GAAG,EAAZ;;AAEA,KAAK,MAAM,CAACC,KAAD,EAAQ,CAACC,GAAD,EAAMC,KAAN,CAAR,CAAX,IAAoCC,MAAM,CAACC,OAAP,CAAgBD,MAAM,CAACC,OAAP,CAAed,MAAf,CAAhB,CAApC,EAA8E;AAC5EA,EAAAA,MAAM,CAACW,GAAD,CAAN,GAAc;AAACI,IAAAA,IAAI,EAAEJ,GAAP;AAAY,OAAGX,MAAM,CAACW,GAAD,CAArB;AAA4BD,IAAAA,KAAK,EAAEA;AAAnC,GAAd;AACAD,EAAAA,KAAK,CAACC,KAAD,CAAL,GAAeV,MAAM,CAACW,GAAD,CAArB;AACD;;AAED,KAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAAK,CAACQ,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCP,EAAAA,KAAK,CAACO,CAAD,CAAL,GAAW,EAAC,GAAGP,KAAK,CAACO,CAAD,CAAT;AAAcE,IAAAA,QAAQ,EAAE;AAAxB,GAAX;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAAK,CAACO,CAAD,CAAL,CAASI,eAAT,CAAyBH,MAA7C,EAAqDE,CAAC,EAAtD,EAA0D;AACxD,QAAIE,KAAK,GAAGZ,KAAK,CAACO,CAAD,CAAL,CAASI,eAAT,CAAyBD,CAAzB,CAAZ;AACAE,IAAAA,KAAK,GAAGlB,UAAU,CAACkB,KAAD,CAAlB;AACA,QAAIC,WAAW,GAAGtB,MAAM,CAACqB,KAAD,CAAxB;;AACA,QAAI,OAAOC,WAAP,KAAwB,WAA5B,EAAyC;AACvCb,MAAAA,KAAK,CAACO,CAAD,CAAL,CAASE,QAAT,CAAkBK,IAAlB,CAAuBvB,MAAM,CAACqB,KAAD,CAAN,CAAcX,KAArC;AACD,KAFD,MAEO;AACLD,MAAAA,KAAK,CAACO,CAAD,CAAL,CAASE,QAAT,CAAkBK,IAAlB,CAAuBF,KAAvB;AACD;AACF;AACF,C,CAED;AACA;AACA;;;AAEA,OAAO,MAAMG,SAAS,GAAGf,KAAlB;AAEP,OAAO,MAAMgB,UAAU,GAAGzB,MAAnB","sourcesContent":["\r\n\r\nconst json_fragment = require('./sbert_finetuned_all_0.8_0.3_10.0_links_k=10.json')\r\n\r\nconst parsed = JSON.parse(json_fragment)\r\n\r\nconst capitalize = (s) => {\r\n  if (typeof s !== 'string') return ''\r\n  s =  s.toLowerCase()\r\n  return s.charAt(0).toUpperCase() + s.slice(1) + \".\"\r\n}\r\n\r\nlet graph = []\r\n\r\nfor (const [index, [key, value]] of Object.entries((Object.entries(parsed)))) {\r\n  parsed[key] = {goal: key, ...parsed[key], index: index}\r\n  graph[index] = parsed[key]\r\n}\r\n\r\nfor (let i = 0; i < graph.length; i++) {\r\n  graph[i] = {...graph[i], children: []}\r\n  for (let j = 0; j < graph[i].retrieved_goals.length; j++) {\r\n    let child = graph[i].retrieved_goals[j];\r\n    child = capitalize(child)\r\n    let from_parsed = parsed[child]\r\n    if (typeof(from_parsed) !== \"undefined\") {\r\n      graph[i].children.push(parsed[child].index)\r\n    } else {\r\n      graph[i].children.push(child)\r\n    }\r\n  }\r\n}\r\n\r\n// for (let i = 0; i < graph.length; i++) {\r\n//   console.log(graph[i])\r\n// }\r\n\r\nexport const graphData = graph;\r\n\r\nexport const parsedData = parsed;\r\n"]},"metadata":{},"sourceType":"module"}