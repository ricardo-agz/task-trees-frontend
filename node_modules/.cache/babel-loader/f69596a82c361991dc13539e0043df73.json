{"ast":null,"code":"// const json_fragment = require('./sbert_finetuned_all_0.8_0.3_10.0_links_k=10.json')\nconst json_fragment = `\n  {\n    \"What is a coronavirus?\": {\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\n    \"gold_goal\": \"\",\n    \"retrieved_goals\": [\n      \"Get Through the Coronavirus Crisis\",\n      \"Recognize Symptoms of West Nile Virus\",\n      \"Diagnose Canine Coronavirus\"\n    ],\n    \"retrieved_goals_similarity\": [\n      0.9126265048980713,\n      0.8896554708480835,\n      0.8891112804412842\n    ],\n    \"retrieved_description_similarity\": [\n      0.6785540580749512,\n      0.7013009190559387,\n      0.452291339635849\n    ],\n    \"weighted_sum_similarity\": [\n      0.9126265048980713,\n      0.8896554708480835,\n      0.8891112804412842\n    ],\n    \"retrieved_goal_rank\": -1\n  },\n  \"Do you have to stay in the hospital if you have COVID-19?\": {\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\n    \"gold_goal\": \"\",\n    \"retrieved_goals\": [\n      \"Improve Your Hospital Stay and Recovery Experience\",\n      \"Go to the Hospital\",\n      \"Make Your Hospital Stay More Comfortable\",\n      \"Choose a Hospital for Surgery\",\n      \"Deal With Being in the Hospital\"\n    ],\n    \"retrieved_goals_similarity\": [\n      0.9033970236778259,\n      0.8866900205612183,\n      0.8747795820236206,\n      0.8512684106826782,\n      0.8426105976104736\n    ],\n    \"retrieved_description_similarity\": [\n      0.7238850593566895,\n      0.5645326375961304,\n      0.8370177149772644,\n      0.818230390548706,\n      0.7476769685745239\n    ],\n    \"weighted_sum_similarity\": [\n      0.9033970236778259,\n      0.8866900205612183,\n      0.8747795820236206,\n      0.8512684106826782,\n      0.8426105976104736\n    ],\n    \"retrieved_goal_rank\": -1\n  },\n  \"What medications are available for COVID-19?\": {\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\n    \"gold_goal\": \"\",\n    \"retrieved_goals\": [\n      \"Take Over\\u2010the\\u2010Counter Medication\",\n      \"Choose Between Generic and Brand Name Medication\",\n      \"Identify Pills\",\n      \"Organize Your Medications\",\n      \"Keep Track of Medications\"\n    ],\n    \"retrieved_goals_similarity\": [\n      0.9370707869529724,\n      0.899950385093689,\n      0.8811526298522949,\n      0.8747710585594177,\n      0.8592540621757507\n    ],\n    \"retrieved_description_similarity\": [\n      0.34730076789855957,\n      0.5106987357139587,\n      0.5307062268257141,\n      0.4811416268348694,\n      0.5022227764129639\n    ],\n    \"weighted_sum_similarity\": [\n      0.9370707869529724,\n      0.899950385093689,\n      0.8811526298522949,\n      0.8747710585594177,\n      0.8592540621757507\n    ],\n    \"retrieved_goal_rank\": -1\n  },\n  }\n`;\nconst parsed = JSON.parse(json_fragment);\n\nconst capitalize = s => {\n  if (typeof s !== 'string') return '';\n  s = s.toLowerCase();\n  return s.charAt(0).toUpperCase() + s.slice(1) + \".\";\n};\n\nlet graph = [];\n\nfor (const [index, [key, value]] of Object.entries(Object.entries(parsed))) {\n  parsed[key] = {\n    goal: key,\n    ...parsed[key],\n    index: index\n  };\n  graph[index] = parsed[key];\n}\n\nfor (let i = 0; i < graph.length; i++) {\n  graph[i] = { ...graph[i],\n    children: []\n  };\n\n  for (let j = 0; j < graph[i].retrieved_goals.length; j++) {\n    let child = graph[i].retrieved_goals[j];\n    child = capitalize(child);\n    let from_parsed = parsed[child];\n\n    if (typeof from_parsed !== \"undefined\") {\n      graph[i].children.push(parsed[child].index);\n    } else {\n      graph[i].children.push(child);\n    }\n  }\n} // for (let i = 0; i < graph.length; i++) {\n//   console.log(graph[i])\n// }\n\n\nexport const graphData = graph;\nexport const parsedData = parsed;","map":{"version":3,"sources":["C:/Users/Ricky/Desktop/School/Research/NLP/WikiHow/visualizer/src/application/DataFragment.js"],"names":["json_fragment","parsed","JSON","parse","capitalize","s","toLowerCase","charAt","toUpperCase","slice","graph","index","key","value","Object","entries","goal","i","length","children","j","retrieved_goals","child","from_parsed","push","graphData","parsedData"],"mappings":"AAEA;AAEA,MAAMA,aAAa,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA9FA;AAgGA,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWH,aAAX,CAAf;;AAEA,MAAMI,UAAU,GAAIC,CAAD,IAAO;AACxB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAO,EAAP;AAC3BA,EAAAA,CAAC,GAAIA,CAAC,CAACC,WAAF,EAAL;AACA,SAAOD,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BH,CAAC,CAACI,KAAF,CAAQ,CAAR,CAA5B,GAAyC,GAAhD;AACD,CAJD;;AAMA,IAAIC,KAAK,GAAG,EAAZ;;AAEA,KAAK,MAAM,CAACC,KAAD,EAAQ,CAACC,GAAD,EAAMC,KAAN,CAAR,CAAX,IAAoCC,MAAM,CAACC,OAAP,CAAgBD,MAAM,CAACC,OAAP,CAAed,MAAf,CAAhB,CAApC,EAA8E;AAC5EA,EAAAA,MAAM,CAACW,GAAD,CAAN,GAAc;AAACI,IAAAA,IAAI,EAAEJ,GAAP;AAAY,OAAGX,MAAM,CAACW,GAAD,CAArB;AAA4BD,IAAAA,KAAK,EAAEA;AAAnC,GAAd;AACAD,EAAAA,KAAK,CAACC,KAAD,CAAL,GAAeV,MAAM,CAACW,GAAD,CAArB;AACD;;AAED,KAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAAK,CAACQ,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCP,EAAAA,KAAK,CAACO,CAAD,CAAL,GAAW,EAAC,GAAGP,KAAK,CAACO,CAAD,CAAT;AAAcE,IAAAA,QAAQ,EAAE;AAAxB,GAAX;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAAK,CAACO,CAAD,CAAL,CAASI,eAAT,CAAyBH,MAA7C,EAAqDE,CAAC,EAAtD,EAA0D;AACxD,QAAIE,KAAK,GAAGZ,KAAK,CAACO,CAAD,CAAL,CAASI,eAAT,CAAyBD,CAAzB,CAAZ;AACAE,IAAAA,KAAK,GAAGlB,UAAU,CAACkB,KAAD,CAAlB;AACA,QAAIC,WAAW,GAAGtB,MAAM,CAACqB,KAAD,CAAxB;;AACA,QAAI,OAAOC,WAAP,KAAwB,WAA5B,EAAyC;AACvCb,MAAAA,KAAK,CAACO,CAAD,CAAL,CAASE,QAAT,CAAkBK,IAAlB,CAAuBvB,MAAM,CAACqB,KAAD,CAAN,CAAcX,KAArC;AACD,KAFD,MAEO;AACLD,MAAAA,KAAK,CAACO,CAAD,CAAL,CAASE,QAAT,CAAkBK,IAAlB,CAAuBF,KAAvB;AACD;AACF;AACF,C,CAED;AACA;AACA;;;AAEA,OAAO,MAAMG,SAAS,GAAGf,KAAlB;AAEP,OAAO,MAAMgB,UAAU,GAAGzB,MAAnB","sourcesContent":["\r\n\r\n// const json_fragment = require('./sbert_finetuned_all_0.8_0.3_10.0_links_k=10.json')\r\n\r\nconst json_fragment = `\r\n  {\r\n    \"What is a coronavirus?\": {\r\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\r\n    \"gold_goal\": \"\",\r\n    \"retrieved_goals\": [\r\n      \"Get Through the Coronavirus Crisis\",\r\n      \"Recognize Symptoms of West Nile Virus\",\r\n      \"Diagnose Canine Coronavirus\"\r\n    ],\r\n    \"retrieved_goals_similarity\": [\r\n      0.9126265048980713,\r\n      0.8896554708480835,\r\n      0.8891112804412842\r\n    ],\r\n    \"retrieved_description_similarity\": [\r\n      0.6785540580749512,\r\n      0.7013009190559387,\r\n      0.452291339635849\r\n    ],\r\n    \"weighted_sum_similarity\": [\r\n      0.9126265048980713,\r\n      0.8896554708480835,\r\n      0.8891112804412842\r\n    ],\r\n    \"retrieved_goal_rank\": -1\r\n  },\r\n  \"Do you have to stay in the hospital if you have COVID-19?\": {\r\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\r\n    \"gold_goal\": \"\",\r\n    \"retrieved_goals\": [\r\n      \"Improve Your Hospital Stay and Recovery Experience\",\r\n      \"Go to the Hospital\",\r\n      \"Make Your Hospital Stay More Comfortable\",\r\n      \"Choose a Hospital for Surgery\",\r\n      \"Deal With Being in the Hospital\"\r\n    ],\r\n    \"retrieved_goals_similarity\": [\r\n      0.9033970236778259,\r\n      0.8866900205612183,\r\n      0.8747795820236206,\r\n      0.8512684106826782,\r\n      0.8426105976104736\r\n    ],\r\n    \"retrieved_description_similarity\": [\r\n      0.7238850593566895,\r\n      0.5645326375961304,\r\n      0.8370177149772644,\r\n      0.818230390548706,\r\n      0.7476769685745239\r\n    ],\r\n    \"weighted_sum_similarity\": [\r\n      0.9033970236778259,\r\n      0.8866900205612183,\r\n      0.8747795820236206,\r\n      0.8512684106826782,\r\n      0.8426105976104736\r\n    ],\r\n    \"retrieved_goal_rank\": -1\r\n  },\r\n  \"What medications are available for COVID-19?\": {\r\n    \"corresponding_goal\": \"Deal with the Coronavirus Outbreak: Your Most Common Questions Answered\",\r\n    \"gold_goal\": \"\",\r\n    \"retrieved_goals\": [\r\n      \"Take Over\\u2010the\\u2010Counter Medication\",\r\n      \"Choose Between Generic and Brand Name Medication\",\r\n      \"Identify Pills\",\r\n      \"Organize Your Medications\",\r\n      \"Keep Track of Medications\"\r\n    ],\r\n    \"retrieved_goals_similarity\": [\r\n      0.9370707869529724,\r\n      0.899950385093689,\r\n      0.8811526298522949,\r\n      0.8747710585594177,\r\n      0.8592540621757507\r\n    ],\r\n    \"retrieved_description_similarity\": [\r\n      0.34730076789855957,\r\n      0.5106987357139587,\r\n      0.5307062268257141,\r\n      0.4811416268348694,\r\n      0.5022227764129639\r\n    ],\r\n    \"weighted_sum_similarity\": [\r\n      0.9370707869529724,\r\n      0.899950385093689,\r\n      0.8811526298522949,\r\n      0.8747710585594177,\r\n      0.8592540621757507\r\n    ],\r\n    \"retrieved_goal_rank\": -1\r\n  },\r\n  }\r\n`\r\n\r\nconst parsed = JSON.parse(json_fragment)\r\n\r\nconst capitalize = (s) => {\r\n  if (typeof s !== 'string') return ''\r\n  s =  s.toLowerCase()\r\n  return s.charAt(0).toUpperCase() + s.slice(1) + \".\"\r\n}\r\n\r\nlet graph = []\r\n\r\nfor (const [index, [key, value]] of Object.entries((Object.entries(parsed)))) {\r\n  parsed[key] = {goal: key, ...parsed[key], index: index}\r\n  graph[index] = parsed[key]\r\n}\r\n\r\nfor (let i = 0; i < graph.length; i++) {\r\n  graph[i] = {...graph[i], children: []}\r\n  for (let j = 0; j < graph[i].retrieved_goals.length; j++) {\r\n    let child = graph[i].retrieved_goals[j];\r\n    child = capitalize(child)\r\n    let from_parsed = parsed[child]\r\n    if (typeof(from_parsed) !== \"undefined\") {\r\n      graph[i].children.push(parsed[child].index)\r\n    } else {\r\n      graph[i].children.push(child)\r\n    }\r\n  }\r\n}\r\n\r\n// for (let i = 0; i < graph.length; i++) {\r\n//   console.log(graph[i])\r\n// }\r\n\r\nexport const graphData = graph;\r\n\r\nexport const parsedData = parsed;\r\n"]},"metadata":{},"sourceType":"module"}