{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar d3_selection_1 = require(\"d3-selection\");\n\nvar DefaultNodeElement_1 = __importDefault(require(\"./DefaultNodeElement\"));\n\nvar Node =\n/** @class */\nfunction (_super) {\n  __extends(Node, _super);\n\n  function Node() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.nodeRef = null;\n    _this.state = {\n      transform: _this.setTransform(_this.props.position, _this.props.parent, _this.props.orientation, true),\n      initialStyle: {\n        opacity: 0\n      }\n    };\n\n    _this.shouldNodeTransform = function (ownProps, nextProps) {\n      return nextProps.subscriptions !== ownProps.subscriptions || nextProps.position.x !== ownProps.position.x || nextProps.position.y !== ownProps.position.y || nextProps.orientation !== ownProps.orientation;\n    }; // TODO: needs tests\n\n\n    _this.renderNodeElement = function () {\n      var _a = _this.props,\n          data = _a.data,\n          renderCustomNodeElement = _a.renderCustomNodeElement;\n\n      if (typeof renderCustomNodeElement === 'function') {\n        return renderCustomNodeElement({\n          nodeDatum: data,\n          toggleNode: _this.handleNodeToggle\n        });\n      }\n\n      return DefaultNodeElement_1.default({\n        nodeDatum: data,\n        toggleNode: _this.handleNodeToggle,\n        onNodeClick: _this.handleOnClick,\n        onNodeMouseOver: _this.handleOnMouseOver,\n        onNodeMouseOut: _this.handleOnMouseOut\n      });\n    };\n\n    _this.handleNodeToggle = function () {\n      return _this.props.onNodeToggle(_this.props.data.__rd3t.id);\n    };\n\n    _this.handleOnClick = function (evt) {\n      _this.props.onNodeClick(_this.props.data.__rd3t.id, evt);\n    };\n\n    _this.handleOnMouseOver = function (evt) {\n      _this.props.onNodeMouseOver(_this.props.data.__rd3t.id, evt);\n    };\n\n    _this.handleOnMouseOut = function (evt) {\n      _this.props.onNodeMouseOut(_this.props.data.__rd3t.id, evt);\n    };\n\n    return _this;\n  }\n\n  Node.prototype.componentDidMount = function () {\n    this.commitTransform();\n  };\n\n  Node.prototype.componentDidUpdate = function () {\n    this.commitTransform();\n  };\n\n  Node.prototype.shouldComponentUpdate = function (nextProps) {\n    return this.shouldNodeTransform(this.props, nextProps);\n  };\n\n  Node.prototype.setTransform = function (position, parent, orientation, shouldTranslateToOrigin) {\n    if (shouldTranslateToOrigin === void 0) {\n      shouldTranslateToOrigin = false;\n    }\n\n    if (shouldTranslateToOrigin) {\n      var hasParent = parent !== null && parent !== undefined;\n      var originX = hasParent ? parent.x : 0;\n      var originY = hasParent ? parent.y : 0;\n      return orientation === 'horizontal' ? \"translate(\" + originY + \",\" + originX + \")\" : \"translate(\" + originX + \",\" + originY + \")\";\n    }\n\n    return orientation === 'horizontal' ? \"translate(\" + position.y + \",\" + position.x + \")\" : \"translate(\" + position.x + \",\" + position.y + \")\";\n  };\n\n  Node.prototype.applyTransform = function (transform, transitionDuration, opacity, done) {\n    if (opacity === void 0) {\n      opacity = 1;\n    }\n\n    if (done === void 0) {\n      done = function () {};\n    }\n\n    if (this.props.enableLegacyTransitions) {\n      d3_selection_1.select(this.nodeRef) // @ts-ignore\n      .transition().duration(transitionDuration).attr('transform', transform).style('opacity', opacity).on('end', done);\n    } else {\n      d3_selection_1.select(this.nodeRef).attr('transform', transform).style('opacity', opacity);\n      done();\n    }\n  };\n\n  Node.prototype.commitTransform = function () {\n    var _a = this.props,\n        orientation = _a.orientation,\n        transitionDuration = _a.transitionDuration,\n        position = _a.position,\n        parent = _a.parent;\n    var transform = this.setTransform(position, parent, orientation);\n    this.applyTransform(transform, transitionDuration);\n  };\n\n  Node.prototype.componentWillLeave = function (done) {\n    var _a = this.props,\n        orientation = _a.orientation,\n        transitionDuration = _a.transitionDuration,\n        position = _a.position,\n        parent = _a.parent;\n    var transform = this.setTransform(position, parent, orientation, true);\n    this.applyTransform(transform, transitionDuration, 0, done);\n  };\n\n  Node.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        data = _a.data,\n        nodeClassName = _a.nodeClassName;\n    return react_1.default.createElement(\"g\", {\n      id: data.__rd3t.id,\n      ref: function (n) {\n        _this.nodeRef = n;\n      },\n      style: this.state.initialStyle,\n      className: [data.children ? 'rd3t-node' : 'rd3t-leaf-node', nodeClassName].join(' ').trim(),\n      transform: this.state.transform\n    }, this.renderNodeElement());\n  };\n\n  return Node;\n}(react_1.default.Component);\n\nexports.default = Node;","map":{"version":3,"sources":["C:/Users/Ricky/Desktop/School/Research/NLP/WikiHow/visualizer/node_modules/react-d3-tree/lib/Node/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","defineProperty","exports","value","react_1","require","d3_selection_1","DefaultNodeElement_1","Node","_super","_this","apply","arguments","nodeRef","state","transform","setTransform","props","position","parent","orientation","initialStyle","opacity","shouldNodeTransform","ownProps","nextProps","subscriptions","x","y","renderNodeElement","_a","data","renderCustomNodeElement","nodeDatum","toggleNode","handleNodeToggle","default","onNodeClick","handleOnClick","onNodeMouseOver","handleOnMouseOver","onNodeMouseOut","handleOnMouseOut","onNodeToggle","__rd3t","id","evt","componentDidMount","commitTransform","componentDidUpdate","shouldComponentUpdate","shouldTranslateToOrigin","hasParent","undefined","originX","originY","applyTransform","transitionDuration","done","enableLegacyTransitions","select","transition","duration","attr","style","on","componentWillLeave","render","nodeClassName","createElement","ref","n","className","children","join","trim","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar d3_selection_1 = require(\"d3-selection\");\nvar DefaultNodeElement_1 = __importDefault(require(\"./DefaultNodeElement\"));\nvar Node = /** @class */ (function (_super) {\n    __extends(Node, _super);\n    function Node() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.nodeRef = null;\n        _this.state = {\n            transform: _this.setTransform(_this.props.position, _this.props.parent, _this.props.orientation, true),\n            initialStyle: {\n                opacity: 0,\n            },\n        };\n        _this.shouldNodeTransform = function (ownProps, nextProps) {\n            return nextProps.subscriptions !== ownProps.subscriptions ||\n                nextProps.position.x !== ownProps.position.x ||\n                nextProps.position.y !== ownProps.position.y ||\n                nextProps.orientation !== ownProps.orientation;\n        };\n        // TODO: needs tests\n        _this.renderNodeElement = function () {\n            var _a = _this.props, data = _a.data, renderCustomNodeElement = _a.renderCustomNodeElement;\n            if (typeof renderCustomNodeElement === 'function') {\n                return renderCustomNodeElement({ nodeDatum: data, toggleNode: _this.handleNodeToggle });\n            }\n            return DefaultNodeElement_1.default({\n                nodeDatum: data,\n                toggleNode: _this.handleNodeToggle,\n                onNodeClick: _this.handleOnClick,\n                onNodeMouseOver: _this.handleOnMouseOver,\n                onNodeMouseOut: _this.handleOnMouseOut,\n            });\n        };\n        _this.handleNodeToggle = function () { return _this.props.onNodeToggle(_this.props.data.__rd3t.id); };\n        _this.handleOnClick = function (evt) {\n            _this.props.onNodeClick(_this.props.data.__rd3t.id, evt);\n        };\n        _this.handleOnMouseOver = function (evt) {\n            _this.props.onNodeMouseOver(_this.props.data.__rd3t.id, evt);\n        };\n        _this.handleOnMouseOut = function (evt) {\n            _this.props.onNodeMouseOut(_this.props.data.__rd3t.id, evt);\n        };\n        return _this;\n    }\n    Node.prototype.componentDidMount = function () {\n        this.commitTransform();\n    };\n    Node.prototype.componentDidUpdate = function () {\n        this.commitTransform();\n    };\n    Node.prototype.shouldComponentUpdate = function (nextProps) {\n        return this.shouldNodeTransform(this.props, nextProps);\n    };\n    Node.prototype.setTransform = function (position, parent, orientation, shouldTranslateToOrigin) {\n        if (shouldTranslateToOrigin === void 0) { shouldTranslateToOrigin = false; }\n        if (shouldTranslateToOrigin) {\n            var hasParent = parent !== null && parent !== undefined;\n            var originX = hasParent ? parent.x : 0;\n            var originY = hasParent ? parent.y : 0;\n            return orientation === 'horizontal'\n                ? \"translate(\" + originY + \",\" + originX + \")\"\n                : \"translate(\" + originX + \",\" + originY + \")\";\n        }\n        return orientation === 'horizontal'\n            ? \"translate(\" + position.y + \",\" + position.x + \")\"\n            : \"translate(\" + position.x + \",\" + position.y + \")\";\n    };\n    Node.prototype.applyTransform = function (transform, transitionDuration, opacity, done) {\n        if (opacity === void 0) { opacity = 1; }\n        if (done === void 0) { done = function () { }; }\n        if (this.props.enableLegacyTransitions) {\n            d3_selection_1.select(this.nodeRef)\n                // @ts-ignore\n                .transition()\n                .duration(transitionDuration)\n                .attr('transform', transform)\n                .style('opacity', opacity)\n                .on('end', done);\n        }\n        else {\n            d3_selection_1.select(this.nodeRef)\n                .attr('transform', transform)\n                .style('opacity', opacity);\n            done();\n        }\n    };\n    Node.prototype.commitTransform = function () {\n        var _a = this.props, orientation = _a.orientation, transitionDuration = _a.transitionDuration, position = _a.position, parent = _a.parent;\n        var transform = this.setTransform(position, parent, orientation);\n        this.applyTransform(transform, transitionDuration);\n    };\n    Node.prototype.componentWillLeave = function (done) {\n        var _a = this.props, orientation = _a.orientation, transitionDuration = _a.transitionDuration, position = _a.position, parent = _a.parent;\n        var transform = this.setTransform(position, parent, orientation, true);\n        this.applyTransform(transform, transitionDuration, 0, done);\n    };\n    Node.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, data = _a.data, nodeClassName = _a.nodeClassName;\n        return (react_1.default.createElement(\"g\", { id: data.__rd3t.id, ref: function (n) {\n                _this.nodeRef = n;\n            }, style: this.state.initialStyle, className: [data.children ? 'rd3t-node' : 'rd3t-leaf-node', nodeClassName].join(' ').trim(), transform: this.state.transform }, this.renderNodeElement()));\n    };\n    return Node;\n}(react_1.default.Component));\nexports.default = Node;\n"]},"metadata":{},"sourceType":"script"}