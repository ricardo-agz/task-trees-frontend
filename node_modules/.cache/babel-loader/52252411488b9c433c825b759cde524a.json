{"ast":null,"code":"import { GOBACK, SELECTCHILD, SETCURRNODE, SETSEARCH } from \"../Types\";\nimport { TestData } from \"../TestData\";\nimport { graphData, parsedData } from \"../DataFragment\";\n\nconst data = require('../para_step_goal_links_gold.json');\n\nconst initialState = {\n  currNode: null,\n  prevNodeStack: [],\n  // graphData: TestData,\n  parsedData: parsedData,\n  graphData: graphData,\n  // data: JSON.parse(data)\n  data: data\n};\n\nconst graphReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GOBACK:\n      let newStack = state.prevNodeStack;\n      newStack.pop();\n      console.log(newStack);\n      return { ...state,\n        currNode: state.prevNodeStack.pop(),\n        // currNode: state.prevNodeStack.pop(),\n        prevNodeStack: newStack\n      };\n\n    case SELECTCHILD:\n      return { ...state,\n        prevNodeStack: state.prevNodeStack.concat(state.currNode),\n        // currNode: state.currNode.steps[action.data]\n        currNode: state.graphData[action.data]\n      };\n\n    case SETCURRNODE:\n      let item = state.parsedData[action.data];\n      let index = typeof item !== \"undefined\" ? item.index : null;\n      return { ...state,\n        prevNode: null,\n        currNode: index !== null ? state.graphData[index] : null\n      };\n\n    default:\n      return state;\n  } // function isGoal(string) {\n  //   let words = string.split(\" \");\n  //   let allCaps = true;\n  // }\n  // function bfs(search) {\n  //   let queue = [];\n  //\n  //   for (let i = 0; i < state.graphData.length; i++) {\n  //     queue.push(state.graphData[i]);\n  //   }\n  //\n  //   let runs = 0;\n  //   while (queue.length > 0 && runs < 50) {\n  //     let v = queue.shift()\n  //     if (v.goal === search) {\n  //       return v;\n  //     } else {\n  //       for (let i = 0; i < v.steps.length; i++) {\n  //         queue.push(v.steps[i])\n  //       }\n  //     }\n  //     runs++\n  //   }\n  //\n  //   return null;\n  // }\n  // switch (action.type) {\n  //   case GOBACK:\n  //     return {\n  //       ...state,\n  //       currNode: state.prevNodeStack[state.prevNodeStack.length - 1],\n  //       prevNodeStack: state.prevNodeStack.slice(0, state.prevNodeStack.length - 1)\n  //     }\n  //   case SELECTCHILD:\n  //     return {\n  //       ...state,\n  //       prevNodeStack: state.prevNodeStack.concat(state.currNode),\n  //       currNode: state.currNode.steps[action.data]\n  //     }\n  //   case SETCURRNODE:\n  //     // console.log(\"bfs out: \" + bfs(action.data))\n  //     // console.log(state.data.entries.length)\n  //     return {\n  //       ...state,\n  //       prevNode: null,\n  //       currNode: bfs(action.data)\n  //     }\n  //   default:\n  //     return state;\n  // }\n\n};\n\nexport default graphReducer;","map":{"version":3,"sources":["C:/Users/Ricky/Desktop/School/Research/NLP/WikiHow/visualizer/src/application/reducers/GraphReducer.js"],"names":["GOBACK","SELECTCHILD","SETCURRNODE","SETSEARCH","TestData","graphData","parsedData","data","require","initialState","currNode","prevNodeStack","graphReducer","state","action","type","newStack","pop","console","log","concat","item","index","prevNode"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,WAAhB,EAA6BC,WAA7B,EAA0CC,SAA1C,QAA0D,UAA1D;AACA,SAAQC,QAAR,QAAuB,aAAvB;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,iBAApC;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,mCAAD,CAApB;;AAGA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,IADS;AAEnBC,EAAAA,aAAa,EAAE,EAFI;AAGnB;AACAL,EAAAA,UAAU,EAAEA,UAJO;AAKnBD,EAAAA,SAAS,EAAEA,SALQ;AAMnB;AACAE,EAAAA,IAAI,EAAEA;AAPa,CAArB;;AAWA,MAAMK,YAAY,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKf,MAAL;AACE,UAAIgB,QAAQ,GAAGH,KAAK,CAACF,aAArB;AACAK,MAAAA,QAAQ,CAACC,GAAT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,aAAO,EACL,GAAGH,KADE;AAELH,QAAAA,QAAQ,EAAEG,KAAK,CAACF,aAAN,CAAoBM,GAApB,EAFL;AAGL;AACAN,QAAAA,aAAa,EAAEK;AAJV,OAAP;;AAMF,SAAKf,WAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELF,QAAAA,aAAa,EAAEE,KAAK,CAACF,aAAN,CAAoBS,MAApB,CAA2BP,KAAK,CAACH,QAAjC,CAFV;AAGL;AACAA,QAAAA,QAAQ,EAAEG,KAAK,CAACR,SAAN,CAAgBS,MAAM,CAACP,IAAvB;AAJL,OAAP;;AAMF,SAAKL,WAAL;AACE,UAAImB,IAAI,GAAGR,KAAK,CAACP,UAAN,CAAiBQ,MAAM,CAACP,IAAxB,CAAX;AACA,UAAIe,KAAK,GAAG,OAAOD,IAAP,KAAiB,WAAjB,GAA+BA,IAAI,CAACC,KAApC,GAA4C,IAAxD;AACA,aAAO,EACL,GAAGT,KADE;AAELU,QAAAA,QAAQ,EAAE,IAFL;AAGLb,QAAAA,QAAQ,EAAEY,KAAK,KAAK,IAAV,GAAiBT,KAAK,CAACR,SAAN,CAAgBiB,KAAhB,CAAjB,GAA0C;AAH/C,OAAP;;AAKF;AACE,aAAOT,KAAP;AA3BJ,GADqD,CAgCrD;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,CApFD;;AAsFA,eAAeD,YAAf","sourcesContent":["import {GOBACK, SELECTCHILD, SETCURRNODE, SETSEARCH} from \"../Types\";\r\nimport {TestData} from \"../TestData\";\r\nimport {graphData, parsedData} from \"../DataFragment\"\r\nconst data = require('../para_step_goal_links_gold.json');\r\n\r\n\r\nconst initialState = {\r\n  currNode: null,\r\n  prevNodeStack: [],\r\n  // graphData: TestData,\r\n  parsedData: parsedData,\r\n  graphData: graphData,\r\n  // data: JSON.parse(data)\r\n  data: data\r\n}\r\n\r\n\r\nconst graphReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GOBACK:\r\n      let newStack = state.prevNodeStack\r\n      newStack.pop()\r\n      console.log(newStack)\r\n      return {\r\n        ...state,\r\n        currNode: state.prevNodeStack.pop(),\r\n        // currNode: state.prevNodeStack.pop(),\r\n        prevNodeStack: newStack\r\n      }\r\n    case SELECTCHILD:\r\n      return {\r\n        ...state,\r\n        prevNodeStack: state.prevNodeStack.concat(state.currNode),\r\n        // currNode: state.currNode.steps[action.data]\r\n        currNode: state.graphData[action.data]\r\n      }\r\n    case SETCURRNODE:\r\n      let item = state.parsedData[action.data]\r\n      let index = typeof(item) !== \"undefined\" ? item.index : null\r\n      return {\r\n        ...state,\r\n        prevNode: null,\r\n        currNode: index !== null ? state.graphData[index] : null\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n\r\n\r\n  // function isGoal(string) {\r\n  //   let words = string.split(\" \");\r\n  //   let allCaps = true;\r\n  // }\r\n\r\n  // function bfs(search) {\r\n  //   let queue = [];\r\n  //\r\n  //   for (let i = 0; i < state.graphData.length; i++) {\r\n  //     queue.push(state.graphData[i]);\r\n  //   }\r\n  //\r\n  //   let runs = 0;\r\n  //   while (queue.length > 0 && runs < 50) {\r\n  //     let v = queue.shift()\r\n  //     if (v.goal === search) {\r\n  //       return v;\r\n  //     } else {\r\n  //       for (let i = 0; i < v.steps.length; i++) {\r\n  //         queue.push(v.steps[i])\r\n  //       }\r\n  //     }\r\n  //     runs++\r\n  //   }\r\n  //\r\n  //   return null;\r\n  // }\r\n\r\n  // switch (action.type) {\r\n  //   case GOBACK:\r\n  //     return {\r\n  //       ...state,\r\n  //       currNode: state.prevNodeStack[state.prevNodeStack.length - 1],\r\n  //       prevNodeStack: state.prevNodeStack.slice(0, state.prevNodeStack.length - 1)\r\n  //     }\r\n  //   case SELECTCHILD:\r\n  //     return {\r\n  //       ...state,\r\n  //       prevNodeStack: state.prevNodeStack.concat(state.currNode),\r\n  //       currNode: state.currNode.steps[action.data]\r\n  //     }\r\n  //   case SETCURRNODE:\r\n  //     // console.log(\"bfs out: \" + bfs(action.data))\r\n  //     // console.log(state.data.entries.length)\r\n  //     return {\r\n  //       ...state,\r\n  //       prevNode: null,\r\n  //       currNode: bfs(action.data)\r\n  //     }\r\n  //   default:\r\n  //     return state;\r\n  // }\r\n}\r\n\r\nexport default graphReducer\r\n"]},"metadata":{},"sourceType":"module"}